// 'g_' prefix denotes a global variable.
var g_mapNode;
var g_mapEventHandler;

function Pin(pin) {

  /*	Description:
   *		The structure of a 'Pin' object when loaded into memory. All functions handling pins will expect these properties.
   */

  this.marker = pin.marker;     // A 'Marker' object, generated by the Maps API.
  this.name = pin.name;         // Name.
  this.latLng = pin.latLng;     // A 'LatLng' object, generated by the Maps API. Used to access the latitude & longitude.
  this.clickListener = null;    // A listener, generated and assigned during render.
  this.infoBox = null;          // An info box, generated and assigned upon the listener trigger.
  this.description = null;      // A text description, optional. Displayed within info box.

}

function initMap() {

  /*	Description:
   *		The Maps API will call this function when communication is established, and then initialize the map.
   */

  g_mapNode = document.querySelector('#map');
  g_mapEventHandler = google.maps.event;

  let mapEmbed = new google.maps.Map(g_mapNode, {

    center: { lat: 43.815136416911436, lng: -120.6398112171833 },
    zoom: 5,
    clickableIcons: false

  });

  renderHandler.map.setNewMapTarget(mapEmbed);

  g_mapEventHandler.addListenerOnce(mapEmbed, 'click', renderHandler.pin.renderNewPinForm);

}
